{
  "name": "Skeletor",
  "tagline": "A Pattern Lab-friendly front-end web project boilerplate and build tool",
  "body": "# Skeletor: Bones & Build Tools\r\nSkeletor is a [Grunt](http://gruntjs.com)-powered, [Pattern Lab](http://patternlab.io)-centric, highly-customizable web project boilerplate and build tool created by the [DEG](http://www.degdigital.com) UI team. Skeletor uses [PostCSS](http://postcss.org) for CSS processing and [JSPM](http://jspm.io)/[SystemJS](https://github.com/systemjs/systemjs) for Javascript package management, module bundling/loading, and transpilation. \r\n\r\n* [Requirements](#requirements)\r\n* [Installation Instructions](#installation-instructions)\r\n* [Atomic Design & Pattern Lab](#atomic-design--pattern-lab)\r\n* [Themes](#themes)\r\n* [Directory Structure](#directory-structure)\r\n* [Workflows](#workflows)\r\n* [Configuration](#configuration)\r\n* [Javascript Module Bundling](#javascript-module-bundling)\r\n\r\n## Requirements\r\n* [NodeJS](https://nodejs.org) version 4.2+\r\n* [PHP](http://php.net) version 5.3+ (for Pattern Lab)\r\n\r\n\r\n## Installation Instructions\r\n1. Clone the Skeletor git repository into your project's root directory or a subdirectory\r\n2. From the command line, type `npm install` to install all Node dependencies\r\n3. From the command line, type `grunt` to generate your first Pattern Lab build\r\n\r\n\r\n## Atomic Design & Pattern Lab\r\nSkeletor encourages the use of the [Atomic Design](http://bradfrost.com/blog/post/atomic-web-design) methodology and comes preconfigured with Pattern Lab to help you create atomic design systems. Learn more about Atomic Design and Pattern Lab [here](http://patternlab.io).\r\n\r\nIn Skeletor, all primary front-end development occurs in Pattern Lab. You can then export your code as a standalone site or into a CMS. Read more about this in the [workflows](#workflows) section.   \r\n\r\n## Themes\r\nSkeletor is a multi-theme build tool. A theme is considered a variation of a base website or set of assets. In a multi-theme environment, you would have a base theme (website) and one or more child themes that vary from the base theme in some way. Skeletor is configured for one theme by default but can easily be configured for multiple themes.\r\n\r\nOne benefit of using themes is the ability to have child themes inherit CSS from its base theme. This avoids repetition of code while still allowing for the overriding of CSS in a child theme when necessary.\r\n\r\n## Directory Structure\r\nSkeletor can be the entirety of your web project or live side-by-side with your CMS source directory, depending on your needs. The default directory structure is as follows:\r\n\r\n```\r\nskeletor       \r\n|-- config/  \r\n|-- core/\r\n|-- export/\r\n|   |-- css/\r\n|   |-- images/\r\n|   |-- js/\r\n|   |-- patterns/\r\n|-- grunt/\r\n|-- public/\r\n|   |-- css/\r\n|   |-- images/\r\n|   |-- js/\r\n|   |-- patterns/\r\n|-- source/\r\n|   |-- css/\r\n|   |-- images/\r\n|   |-- js/\r\n|   |-- _patterns/\r\n|-- Gruntfile.js\r\n```\r\n\r\n### Pattern Lab Directories\r\nBy default, Pattern Lab lives in the root of Skeletor. The `core/` and `config/` directories contain the Pattern Lab source code and configuration settings, respectively. The `source/` directory contains your project's source code, including pattern templates, CSS, JS, and images. The `public/` directory contains the generated Pattern Lab site. Assets are compiled and copied from the `source/` directory to the `public/` directory during the build process.\r\n\r\n### Export Directory\r\nThe `export/` directory contains production-ready assets that have been exported from Pattern Lab. Depending on the configuration of your project, many assets may bypass this directory and instead be exported into CMS directories. \r\n\r\n### Grunt Directory\r\nSkeletor is powered by the Grunt task runner. Task configuration files can be found in the `grunt` directory. However, the majority of your configuration changes should be confined to the Gruntfile.\r\n\r\n### Multi-Theme Directory Structure\r\nTo use multiple themes with Skeletor, the directory structure changes slightly. A directory for each theme is added to the root directory of Skeletor. The assets for a theme live within the theme's directory. In addition, each theme has its own instance of Pattern Lab. This is due to the current limitations of representing multiple websites in a single instance of Pattern Lab.\r\n\r\nAn example of a multi-theme directory structure is below:\r\n```\r\nskeletor   \r\n|-- baseTheme/\r\n|   |-- config/  \r\n|   |-- core/\r\n|   |-- export/\r\n|   |-- public/\r\n|   |-- source/\r\n|-- grunt/\r\n|-- theme1/\r\n|   |-- config/  \r\n|   |-- core/\r\n|   |-- export/\r\n|   |-- public/\r\n|   |-- source/\r\n|-- theme2/\r\n|   |-- config/  \r\n|   |-- core/\r\n|   |-- export/\r\n|   |-- public/\r\n|   |-- source/\r\n|-- Gruntfile.js\r\n```\r\n\r\n## Workflows\r\nSkeletor supports two primary workflows: project development and exporting/CMS integration. Both workflows are controlled via the command line by invoking Grunt tasks.\r\n\r\n### Project Development Workflow\r\nPrimary development occurs within Pattern Lab, specifically the source directory. UI assets such as patterns, CSS, Javascript, and images are processed, compiled, and copied to the public directory by invoking the build task `grunt build`. You can run the build task automatically when source files are created/modified by invoking the listen task: `grunt listen`.\r\n\r\n### Exporting/CMS Integration Workflow\r\nPattern Lab outputs a static website. Depending on the nature of your project, this deliverable may be sufficient. In other cases, you may need to integrate your UI assets (HTML, CSS, JS, images, fonts, etc) into a production CMS. Either way, your UI assets are exported to directories of your choosing by invoking the export task `grunt export`.\r\n\r\n### Multi-Theme Targeting\r\nThe `build`, `listen`, and `export` tasks are created as [multi tasks](http://gruntjs.com/creating-tasks#multi-tasks) in Grunt. When Skeletor is configured for multiple themes, it automatically creates targets for each of these multi tasks, one target per theme. This allows you to constrain the tasks to one theme by appending `:[themeName]` when running a task from the command line. \r\n\r\nFor example, to run the `build` task on theme1, you would type `grunt build:theme1` into the command line. To run the build task for all themes, simply omit the theme name postfix and type `grunt build`.\r\n\r\n## Configuration\r\nSkeletor is built to be highly-configurable. The majority, if not all, of the configuration settings exist in the Gruntfile. \r\n\r\n### Theme Configuration \r\nThe majority of Skeletor's configuration settings are contained within theme configuration objects. These objects live within the `themes` object in the Gruntfile. By default, Skeletor is configured for one theme:\r\n\r\n```js\r\n/* Themes configuration */\r\nvar themes = {\r\n    /* Theme configuration */\r\n    default: {\r\n        basePath: '',\r\n        ...\r\n    }\r\n};\r\n```\r\n\r\nFor multiple themes, additional theme configuration objects can be included in the `themes` setting :\r\n\r\n```js\r\n/* An example of two themes that inherit from a base theme */\r\n/* Themes configuration */\r\nvar themes = {\r\n\r\n  /* Base theme configuration */\r\n  baseTheme: {\r\n    ...\r\n  },\r\n  \r\n  /* Theme 1 configuration */\r\n  theme1: {\r\n    parentTheme: 'baseTheme',\r\n    ...\r\n  },\r\n  \r\n  /* Theme 2 configuration */\r\n  theme2: {\r\n    parentTheme: 'baseTheme',\r\n    ...\r\n  }\r\n};\r\n```\r\n\r\n### Theme Defaults\r\nSkeletor has a single theme configuration object that contains default theme settings. This object, called `themeDefaults` in the Gruntfile, gets merged with each theme configuration object in `themes`. This allows you to centralize common theme settings into one object while still retaining the ability to override certain settings in specific themes.\r\n\r\n```js\r\n  var themeDefaults = {\r\n    css: {\r\n      exportSourceFiles: false,\r\n      enableGlobbing: true\r\n    }\r\n  };\r\n  \r\n  var themes = {\r\n    theme1: {\r\n      css: {\r\n        /* Overrides the exportSourceFiles setting inherited from themeDefaults */\r\n        exportSourceFiles: true\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n\r\n### Theme Configuration\r\nA theme configuration object contains settings for a particular theme.\r\n\r\n#### General \r\n```js\r\ntheme1: {\r\n    basePath: 'theme1',\r\n    parentTheme: 'baseTheme',\r\n    ...\r\n}\r\n```\r\n\r\n##### basePath\r\nType: `String`  \r\nThe base filepath of the theme, relative to Skeletor's root directory. If this property is omitted, the base filepath defaults to the name of the theme itself.\r\n\r\n##### parentTheme\r\nType: `String`  \r\nThe name of the theme's parent theme. Setting a parent theme allows for CSS inheritance.\r\n\r\n#### Asset Directories\r\nThere are three primary directories that your assets live in: `source/`, `public/`, and `export/` (see the [Directory Structure](#directory-structure) section for more information). The file paths and urls for these asset directories are pre-configured for you:\r\n\r\n```js\r\n/* Source directory configuration */\r\ntheme1: {\r\n    'source': {\r\n      basePath: 'source',\r\n      assetPaths: {\r\n        api: 'api',\r\n        css: 'css',\r\n        fonts: 'fonts',\r\n        images: 'images',\r\n        js: 'js',\r\n        patterns: '_patterns',\r\n        patternData: '_data'\r\n      }\r\n    },\r\n    \r\n    /* Public directory configuration */\r\n    'public': {\r\n      basePath: 'public',\r\n      assetPaths: {\r\n        api: 'api',\r\n        css: 'css',\r\n        fonts: 'fonts',\r\n        images: 'images',\r\n        js: 'js',\r\n        patterns: 'patterns'\r\n      },\r\n      assetUrls: {\r\n        js: '../../js'\r\n      }\r\n    },\r\n    \r\n    /* Export directory configuration */\r\n    'export': {\r\n      basePath: 'export',\r\n      assetPaths: {\r\n        api: 'api',\r\n        css: 'css',\r\n        fonts: 'fonts',\r\n        images: 'images',\r\n        js: 'js',\r\n        patterns: ''\r\n      },\r\n      assetUrls: {\r\n        js: 'js'\r\n      }\r\n    },\r\n    ...\r\n}\r\n```\r\n##### {assetDirectory}.basePath\r\nType: `String` Default: [assetDirectory]  \r\nThe base file path of the asset directory relative to the theme's directory.\r\n\r\n##### {assetDirectory}.assetPaths\r\nType: `Object`  \r\nThe file paths of asset types (CSS, Javascript, images, etc) relative to the asset directory.\r\n\r\n##### {assetDirectory}.assetUrls \r\nType: `Object`  \r\nThe URLs of asset types relative to the web root. These settings currently only apply to the Javascript assets in the `public` and `source` asset directories.\r\n\r\n#### CSS\r\nSkeletor employs [PostCSS](http://postcss.org) to process your CSS files. There are several CSS configuration options available to you:\r\n\r\n```js\r\ntheme1: {\r\n    /* CSS processing configuration */\r\n    css: {\r\n    \r\n      /* Export CSS source files along with compiled files */\r\n      exportSourceFiles: false,\r\n    \r\n      /* Enable CSS globbing */\r\n      enableGlobbing: true\r\n    },\r\n    ...\r\n}\r\n```\r\n\r\n##### css.exportSourceFiles\r\nType: `Boolean` Default: `false`  \r\nIn addition to the processed CSS files, source CSS files are copied to the export directory during an export.\r\n\r\n##### css.enableGlobbing\r\nType: `Boolean` Default: `true`  \r\nCSS @import statements are generated automatically using globbing.\r\n\r\n#### Javascript\r\nBy default, Skeletor uses [JSPM](http://jspm.io) as a Javascript package manager, module bundler, module loader, and transpiler. There are several Javascript configuration options available to you in the Gruntfile: \r\n\r\n```js\r\n/* Javascript processing configuration */\r\ntheme1: {\r\n    js: {\r\n\r\n      /* Processor for Javascript [jspm, none] */\r\n      processor: 'jspm',  \r\n    \r\n      /* When to minify Javascript [always, never, exportOnly] */\r\n      minify: 'exportOnly', \r\n    \r\n      /* Enable module bundling for use with JSPM [true, false] */\r\n      enableBundling: true,\r\n    \r\n      /* Module bundle config for JSPM */\r\n      bundles: {\r\n    \r\n        /* Name of bundle to exclude from all other bundles */\r\n        defaultExclude: 'main-bundle',\r\n    \r\n        /* Build self-executing bundles [true, false] */\r\n        selfExecuting: false,\r\n    \r\n        /* Array of module bundles config objects */\r\n        items: [\r\n          {\r\n            /* Name of this bundle (optional) */\r\n            name: 'main',\r\n          \r\n            /* Name of entry module for this bundle */\r\n            entry: 'main',\r\n    \r\n            /* Array of bundles to exclude from this bundle */\r\n            exclude: [],\r\n    \r\n            /* Array of polyfills for this bundle */\r\n            polyfills: []\r\n          },\r\n          {\r\n            /* Name of this bundle (optional) */\r\n            name: 'home',\r\n            \r\n           /* Name of entry module for this bundle */\r\n            entry: 'home',\r\n    \r\n            /* Array of bundles to exclude from this bundle */\r\n            exclude: [],\r\n    \r\n            /* Array of polyfills for this bundle */\r\n            polyfills: []\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    ...\r\n}\r\n```\r\n\r\n##### js.processor\r\nType: `String` Default: `jspm`  \r\nSpecifies the Javascript processor to be used. Possible values include `jspm` and `none`. A value of `none` will result in straight copy of the source Javascript files to the public and export directories. *Note: no other Javascript configuration settings will apply if `none` is specified.*\r\n\r\n##### js.minify\r\nType: `String` Default: `exportOnly`  \r\nSpecifies when Javascript files should be minified. Possible values include `always`, `never`, and `exportOnly`.\r\n\r\n##### js.enableBundling\r\nType: `Boolean` Default: `true`   \r\nSpecifies whether Javascript modules should be bundled during the development workflow. If set to false, Javascript modules will be copied directly to the public directory and loaded individually by the SystemJS module loader. This can facilitate quicker Javascript processing (as bundling can take several seconds) and easier debugging. This setting does not apply to the export workflow, during which bundling is always enabled. \r\n\r\n##### js.bundles\r\nType: `Object`  \r\nConfiguration settings for JSPM module bundling. See the [Javascript Module Bundling](#javascript-module-bundling) section for more information.\r\n\r\n##### js.bundles.defaultExclude\r\nType: `string`  \r\nThe name of the bundle to exclude from all other bundles. This setting can be useful when you have a common bundle that loads on every page.\r\n\r\n##### js.bundles.selfExecuting\r\nType: `Boolean` Default: `false`  \r\nSpecifies whether or not to create self-executing bundles that are independent of the SystemJS module loader.\r\n\r\n##### js.bundles.items\r\nType: `Array`  \r\nA list of module bundle configuration objects.\r\n\r\n##### bundle.entry\r\nType: `String`  \r\nThe name of the module that serves as the entry point for the bundle. The bundle will include this module and all of its dependencies.\r\n\r\n##### bundle.name\r\nType: `String` Default: ``  \r\nThe name of this bundle. This setting is optional and, if omitted, the bundle name will default to the name of the entry module.\r\n\r\n##### bundle.exclude\r\nType: `Array`  \r\nA list of bundle names to exclude from this bundle. These should be \"full\" bundle names, meaning they should include the postfix `-bundle` \r\n\r\n##### bundle.polyfills\r\nType: `Array`  \r\nA list of polyfills to apply to this bundle. Each item in this setting is a file path to a polyfill script relative to the Javascript directory. See the [Polyfilled Bundles](#polyfilled-bundles) section for more information.\r\n\r\n### Listen Task Configuration\r\nBy default, the `listen` task will watch for asset file changes and run a `build` task when changes occur. This behavior is configurable:\r\n\r\n##### listenTasks\r\nType: `Array` Default: '[build]'  \r\nThe task(s) that the `listen` task will run when file changes occur. Possible values include `build` and `export`.\r\n\r\n## Javascript Module Bundling\r\nSkeletor will generate module bundles for you based on the `bundles` configuration setting in your Gruntfile. Under the hood, Skeletor will iterate through your defined bundles and execute 'jspm bundle' commands. These bundles can either be standard SystemJS bundles or stand-alone, self-executing bundles (as specified in the `bundles.selfExecuting` setting).\r\n\r\nSkeletor is configured to create SystemJS bundles by default. SystemJS bundles are not referenced in a web page directly, but rather by a modules within it:\r\n\r\n```html\r\n<!-- Load the SystemJS script and its configuration file -->\r\n<script src=\"../../js/jspm_packages/system.js\"></script>\r\n<script src=\"../../js/config.js\"></script>\r\n<script>\r\n    <!-- Tell SystemJS to import the 'main' module, which will cause the 'main-bundle' bundle to be loaded -->\r\n  System.import('main');\r\n</script>\r\n```\r\n\r\nIf you instead choose to use self-executing bundles independent of the SystemJS module loader, the method for loading a bundle is slightly different:\r\n\r\n```html\r\n<!-- Load the bundleHelper file -->\r\n<script src=\"../../js/bundleHelper.js\"></script>\r\n<script>\r\n    <!-- Use bundleHelper to load the 'main-bundle' bundle -->\r\n  bundleHelper.loadBundle('main-bundle');\r\n</script>\r\n```\r\n\r\nSkeletor generates polyfill/bundle combinations and loads the correct combination based on client-side feature testing (see the [Polyfilled Bundles](#polyfilled-bundles) section below). In order for Skeletor to accomplish this, self-executing bundles need to be loaded via `bundleHelper`, which is included in Skeletor.\r\n\r\n### Polyfilled Bundles  \r\n\r\n#### Overview\r\nIn many cases, your Javascript code will require certain feature polyfills in order to run correctly on legacy (or even modern) browsers. For delivering these polyfills to the client, Skeletor takes the conditional-build approach recommended by the [yepnope.js](https://github.com/SlexAxton/yepnope.js#deprecation-notice) team and others. At runtime, this approach includes the following steps:\r\n1. Run a series of feature tests on the client's browser\r\n2. Generate a bundle filename based on the results of the feature tests (i.e., append the names of the failed tests to the bundle's filename)\r\n3. Load the bundle from the server using this generated filename, which will include the appropriate feature polyfills\r\n\r\n#### Generating Conditional Builds\r\nAt build time, Skeletor uses the `bundle.polyfills` setting in each bundle configuration to generate conditional builds of those bundles. Each conditional build is a combination of polyfills concatenated to the beginning of a bundle. For example, say you have a bundle called `main-bundle` that has two polyfills specified:\r\n```js\r\nbundles: {\r\n    ...,\r\n    items: [\r\n        {\r\n            entry: 'main',\r\n            polyfills: ['polyfills/classList', 'polyfills/assign']\r\n        }   \r\n    ]\r\n}\r\n```\r\nSkeletor will generate four versions of the `main-bundle` bundle, one for each potential combination of polyfills needed by a client browser: \r\n* `main-bundle.js` (bundle without any polyfills)\r\n* `main-bundle-classList.js` (bundle with the `classList` polyfill)\r\n* `main-bundle-assign.js` (bundle with the `assign` polyfills)\r\n* `main-bundle-classList-assign.js` (bundle with the `classList` and `assign` polyfills)\r\n \r\n#### Loading a Conditional Build\r\nSkeletor contains a `bundleHelper.js` script that is responsible for performing feature tests on the client browser and then loading the correct polyfill/bundle combination based on the results of those tests. Inside `bundleHelper.js`, there are a handful of common feature test definitions already present:\r\n```js\r\nvar bundleHelper = function() {\r\n  /* Add your polyfill test definitions here */\r\n  var testDefs = {\r\n    assign: Object.assign,\r\n    fetch: self.fetch,\r\n    find: Array.prototype.find\r\n  }\r\n  ...\r\n}\r\n```\r\nA feature test definition is usually a concise one-liner. The name of the test should match the filename of the associated polyfill script, which lives in the `js/polyfills/` directory. \r\n\r\nThe bundleHelper script also contains an empty array variable called `bundles`:\r\n```js\r\nvar bundleHelper = function() {\r\n  ...\r\n  var bundles = [],\r\n  ...\r\n}\r\n```\r\nAt build time, this `bundles` array gets populated with bundle objects, one for each bundle defined in the `js.bundles.items` configuration setting in the Gruntfile. These bundle objects contain information about the feature tests needed for each bundle. These feature tests are references to the `testDefs` object.\r\n\r\nAt runtime, the bundleHelper script will iterate through each bundle object and run the specified feature tests on the client's browser. The script will then generate a bundle filename based on the failed feature tests. The final step is to intercept the loading of the bundle by the client browser and instead load the conditional build of the bundle.\r\n* If you are using SystemJS bundles, the [SystemJS map configuration option](https://github.com/systemjs/systemjs/blob/master/docs/config-api.md#map) is used to tell the module loader to load the conditional build of the bundle rather than the default build\r\n* If you are using self-executing bundles, SystemJS's map option isn't available. Instead, the bundleHelper script provides a `loadBundle` method that accepts a bundle name and loads the conditional build of the bundle.\r\n\r\nThe bundleHelper script is automatically concatenated to the SystemJS `config.js` script. If you are using self-executing bundles, you will instead need to load the `bundleHelper.js` script directly and then load bundles using the `bundleHelper.loadBundle` method.\r\n\r\n#### Adding Polyfills\r\nAdding a new polyfill to your project is a three-step process:\r\n1. Add the polyfill script to the `js/polyfills/` directory\r\n2. Add the polyfill test to the `testDefs` object in the `bundleHelper.js` script. Make sure the test name matches the filename (minus the `.js` extension) of your polyfill script\r\n3. Add a reference to the polyfill in the appropriate `bundle.polyfills` setting in the Gruntfile\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}